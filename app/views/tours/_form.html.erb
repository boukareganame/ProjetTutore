<%# app/views/tours/_form.html.erb %>
<%= form_with(model: [tontine, tour], class: "row g-3") do |form| %>
  <% if tour.errors.any? %>
    <div class="alert alert-danger">
      <h2><%= pluralize(tour.errors.count, "erreur") %> ont empêché l'enregistrement du tour :</h2>
      <ul>
        <% tour.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="col-md-3">
    <%= form.label :ordre, "Ordre du Tour", class: "form-label" %>
    <%= form.number_field :ordre, class: "form-control" %>
  </div>

  <div class="col-md-4">
    <%= form.label :date_tirage, "Date du Tirage", class: "form-label" %>
    <%= form.date_field :date_tirage, class: "form-control" %>
  </div>

  <div class="col-md-5">
    <%= form.label :beneficiaire_id, "Bénéficiaire (Optionnel)", class: "form-label" %>
    <%= form.collection_select :beneficiaire_id, @tontine.participants, :id, { prompt: "Non désigné" }, class: "form-select" %>
  </div>

  <div class="col-12">
    <%= form.submit class: "btn btn-primary" %>
  </div>
<% end %>
